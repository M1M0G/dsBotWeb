{"version":3,"sources":["layout/main.css","models/botModel.js","RouteWithSubRoutes.js","layout/mainLayout.js","routes.js","App.js","models/songModel.js","models/userModel.js","utils/api/user/index.js","utils/api/guild/index.js","models/guildModel.js","index.jsx","models/init.js"],"names":["module","exports","Bot","types","model","id","identifier","title","string","description","status","boolean","actions","self","setStatus","newStatus","setDescription","newDescription","setTitle","newTitle","remove","getParent","RouteWithSubRoutes","route","exact","path","render","props","isAuth","auth","component","routes","to","MainLayout","this","children","console","log","className","styles","main","sideBar","hero","cube","content","Component","lazy","AppRouter","inject","observer","rootStore","token","fallback","map","i","App","Song","url","union","null","length","User","userToken","maybeNull","userName","userId","discriminator","setUser","user","username","getUser","a","fetch","headers","authorization","res","json","Error","getGuild","forEach","server","Guild","guildId","name","setGuild","guild","stores","optional","bots","array","songs","afterCreate","window","localStorage","getItem","req","push","Promise","all","addBot","item","addSong","uuid","bot","destroy","checkQueue","data","queue","applySnapshot","flow","userApi","guildApi","create","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.16a1f430.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main-main-3Qpb\",\"sideBar\":\"main-sideBar-2nLL\",\"auth\":\"main-auth-3lw7\",\"content\":\"main-content-3ox1\",\"hero\":\"main-hero-pWvX\",\"cube\":\"main-cube-2NVu\"};","import {getParent, types} from \"mobx-state-tree\";\r\n\r\nexport const Bot = types.model(\"Bot\",{\r\n    id: types.identifier,\r\n    title: types.string,\r\n    description: types.string,\r\n    status: types.boolean\r\n}).actions(self => ({\r\n\r\n    setStatus: (newStatus) => {\r\n        self.status = newStatus\r\n    },\r\n\r\n    setDescription: (newDescription) => {\r\n        self.description = newDescription\r\n    },\r\n\r\n    setTitle: (newTitle) => {\r\n        self.title = newTitle\r\n    },\r\n    remove: () => {\r\n        // 2 is the defth of the child in the tree, so it needs to go 2 parents up\r\n        getParent(self, 2).remove(self);\r\n    }\r\n}))","import React from 'react';\nimport { Route,Redirect } from 'react-router-dom';\n\nconst RouteWithSubRoutes = (route) => {\n    return(\n    <Route\n        exact = {route.exact}\n        path={route.path}\n        render={(props) => route.isAuth || route.auth? <route.component {...props} routes={route.routes}/> : <Redirect to={'/auth'}/>}\n      />\n  )\n};\n\nexport default RouteWithSubRoutes;\n","import React, {Component} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport styles from \"./main.css\"\r\nclass MainLayout extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n    render() {\r\n        const { children, isAuth } = this.props;\r\n        console.log(children)\r\n        return(\r\n            <div className={styles.main}>\r\n                {isAuth? (<aside className={styles.sideBar}>\r\n                    <ul>\r\n                        <Link to=\"/\">\r\n                            <li>\r\n                                <span>home</span>\r\n                            </li>\r\n                        </Link>\r\n                        <Link to=\"/music\">\r\n                            <li>\r\n                                <span>music</span>\r\n                            </li>\r\n                        </Link>\r\n                    </ul>\r\n                </aside>): (\r\n                    <aside className={styles.auth}>\r\n                        <div className={styles.hero}/>\r\n                        <div className={styles.cube}/>\r\n                        <div className={styles.cube}/>\r\n                        <div className={styles.cube}/>\r\n                        <div className={styles.cube}/>\r\n                        <div className={styles.cube}/>\r\n                    </aside>\r\n                )}\r\n                <main className={styles.content}>\r\n                    {children}\r\n                </main>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default MainLayout","import React, { Suspense, lazy } from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport RouteWithSubRoutes from './RouteWithSubRoutes';\r\nimport MainLayout from \"./layout/mainLayout\";\r\nimport {inject, observer} from \"mobx-react\";\r\n\r\n\r\nconst Home = lazy(() => import('./pages/home'));\r\nconst Music = lazy(() => import('./pages/music'));\r\nconst Auth = lazy(() => import('./pages/auth'));\r\n\r\nconst routes = [\r\n    {\r\n        exact: true,\r\n        path: '/',\r\n        component: Home,\r\n    },\r\n    {\r\n        path: '/music',\r\n        component: Music,\r\n    },\r\n    {\r\n        auth: true,\r\n        path: '/auth',\r\n        component: Auth,\r\n    },\r\n];\r\n\r\nconst AppRouter = inject(\"rootStore\")(observer((props) => {\r\n    let isAuth\r\n    if (props.rootStore.token) {\r\n        isAuth = true\r\n    } else {\r\n        isAuth = false\r\n    }\r\n    console.log(isAuth)\r\n    return (\r\n        <Router>\r\n            <MainLayout isAuth = {isAuth}>\r\n                <Suspense fallback={<div className=\"lazy-loading\">Загрузка </div>}>\r\n                    {routes.map((route, i) => (\r\n                        <RouteWithSubRoutes key={i} isAuth = {isAuth} {...route}/>\r\n                    ))}\r\n                </Suspense>\r\n            </MainLayout>\r\n        </Router>\r\n    );\r\n}));\r\n\r\nexport default AppRouter;\r\n","import React from 'react';\nimport AppRouter from './routes';\n\nconst App = () => {\n  return (\n      <AppRouter/>\n  );\n};\n\nexport default App;\n","import {getParent, types} from \"mobx-state-tree\";\r\n\r\nexport const Song = types.model(\"Song\",{\r\n    id: types.identifier,\r\n    url: types.string,\r\n    title: types.string,\r\n    description: types.union(types.string, types.null),\r\n    length: types.string\r\n}).actions(self => ({\r\n\r\n    setStatus: (newStatus) => {\r\n        self.status = newStatus\r\n    },\r\n\r\n    setDescription: (newDescription) => {\r\n        self.description = newDescription\r\n    },\r\n\r\n    setTitle: (newTitle) => {\r\n        self.title = newTitle\r\n    },\r\n    remove: () => {\r\n        // 2 is the defth of the child in the tree, so it needs to go 2 parents up\r\n        getParent(self, 2).remove(self);\r\n    }\r\n}))","import {types} from \"mobx-state-tree\";\r\n\r\nexport const User = types.model(\"User\",{\r\n    userToken: types.maybeNull(types.string),\r\n    userName: types.maybeNull(types.string),\r\n    userId: types.maybeNull(types.string),\r\n    discriminator: types.maybeNull(types.string),\r\n    //userId: types.identifier\r\n}).actions(self => ({\r\n    setUser: (user) => {\r\n        self.userId = user.id;\r\n        self.userName = user.username;\r\n        self.discriminator = user.discriminator\r\n    },\r\n}))","export default {\r\n    getUser: async(token) => {\r\n        try {\r\n            const res = await fetch('https://discord.com/api/users/@me', {\r\n                headers: {\r\n                    authorization: `Bearer ${token}`,\r\n                },\r\n            })\r\n            return res.json()\r\n        } catch (e) {\r\n           throw new Error(e)\r\n        }\r\n    }\r\n}","export default {\r\n    getGuild: async(token) => {\r\n        try {\r\n            const res = await fetch('https://discord.com/api/users/@me/guilds', {\r\n                headers: {\r\n                    authorization: `Bearer ${token}`,\r\n                },\r\n            })\r\n            const guilds = res.json()\r\n            guilds.forEach(server => {\r\n                if (server.id === '659425745256579082') {\r\n                    return server\r\n                }\r\n                return;\r\n            })\r\n        }catch (e) {\r\n            throw new Error(e)\r\n        }\r\n    }\r\n}","import {types} from \"mobx-state-tree\";\r\n\r\nexport const Guild = types.model(\"Guild\",{\r\n    guildId: types.maybeNull(types.string),\r\n    name: types.maybeNull(types.string),\r\n\r\n}).actions(self => ({\r\n\r\n    setGuild: (guild) => {\r\n        self.guildId = guild.id;\r\n        self.name = guild.name;\r\n    },\r\n}))","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport React, {useEffect} from \"react\"\nimport {Provider} from \"mobx-react\";\nimport {rootStore} from \"./models/init\";\n\n\n\nconst stores = {rootStore}\n\nfunction renderApp(){\n\n    ReactDOM.render(\n        <Provider {...stores}>\n            <App/>\n        </Provider>,\n        document.getElementById('root'));\n}\n\nrenderApp();","import {applySnapshot, destroy, types} from \"mobx-state-tree\";\r\nimport {Bot} from \"./botModel\";\r\nimport {Song} from \"./songModel\";\r\nimport {v4 as uuid} from \"uuid\"\r\nimport {User} from \"./userModel\";\r\nimport {flow} from \"mobx\";\r\nimport {userApi, guildApi} from \"../utils/api\";\r\nimport {Guild} from \"./guildModel\";\r\nconst root = types.model(\"root\", {\r\n    token: types.maybeNull(types.string),\r\n    user: types.optional(User, {}),\r\n    guild: types.optional(Guild, {}),\r\n    bots: types.optional(types.array(Bot), []),\r\n    songs: types.optional(types.array(Song),[]),\r\n}).actions(self => ({\r\n    afterCreate(){\r\n        let token = window.localStorage.getItem(\"token\")\r\n        if (token){\r\n            self.token = token\r\n            let req = []\r\n            req.push(self.getUser())\r\n            req.push(self.getGuild())\r\n            Promise.all(req)\r\n        }\r\n    },\r\n    addBot(item) {\r\n        self.bots.push(item);\r\n    },\r\n    addSong(item) {\r\n        item.id = uuid()\r\n        self.songs = [item, ...self.songs]\r\n    },\r\n    remove(bot) {\r\n        destroy(bot); // ==> self.items.splice(self.items.indexOf(item), 1);\r\n    },\r\n    checkQueue(data) {\r\n        if (data && data.queue !== null)\r\n            applySnapshot(self.songs, data.queue)\r\n    },\r\n    getUser: flow(function*getUser() {\r\n        try {\r\n            const user = yield userApi.getUser(self.token)\r\n            self.user.setUser(user)\r\n        } catch (e) {\r\n            throw  e;\r\n        }\r\n    }),\r\n    getGuild: flow(function*getGuild() {\r\n        try {\r\n            const guild = yield guildApi.getUser(self.token)\r\n            self.guild.setGuild(guild)\r\n        } catch (e) {\r\n            throw  e;\r\n        }\r\n    }),\r\n}));\r\n\r\nexport const rootStore = root.create( {token: null, user: {}, bots: [], songs: []})"],"sourceRoot":""}