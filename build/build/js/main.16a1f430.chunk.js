(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,n){e.exports={main:"main-main-3Qpb",sideBar:"main-sideBar-2nLL",auth:"main-auth-3lw7",content:"main-content-3ox1",hero:"main-hero-pWvX",cube:"main-cube-2NVu"}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),c=r.f.model("Bot",{id:r.f.identifier,title:r.f.string,description:r.f.string,status:r.f.boolean}).actions((function(e){return{setStatus:function(t){e.status=t},setDescription:function(t){e.description=t},setTitle:function(t){e.title=t},remove:function(){Object(r.d)(e,2).remove(e)}}}))},48:function(e,t,n){"use strict";n.r(t);var r=n(12),c=n(20),s=n.n(c),a=n(0),i=n(14),o=n(4),u=n(3),l=function(e){return Object(u.jsx)(o.b,{exact:e.exact,path:e.path,render:function(t){return e.isAuth||e.auth?Object(u.jsx)(e.component,Object(r.a)(Object(r.a)({},t),{},{routes:e.routes})):Object(u.jsx)(o.a,{to:"/auth"})}})},f=n(26),d=n(27),b=n(29),j=n(28),h=n(11),m=n.n(h),p=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){return Object(f.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isAuth;return console.log(t),Object(u.jsxs)("div",{className:m.a.main,children:[n?Object(u.jsx)("aside",{className:m.a.sideBar,children:Object(u.jsxs)("ul",{children:[Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("li",{children:Object(u.jsx)("span",{children:"home"})})}),Object(u.jsx)(i.b,{to:"/music",children:Object(u.jsx)("li",{children:Object(u.jsx)("span",{children:"music"})})})]})}):Object(u.jsxs)("aside",{className:m.a.auth,children:[Object(u.jsx)("div",{className:m.a.hero}),Object(u.jsx)("div",{className:m.a.cube}),Object(u.jsx)("div",{className:m.a.cube}),Object(u.jsx)("div",{className:m.a.cube}),Object(u.jsx)("div",{className:m.a.cube}),Object(u.jsx)("div",{className:m.a.cube})]}),Object(u.jsx)("main",{className:m.a.content,children:t})]})}}]),n}(a.Component),O=n(15),x=[{exact:!0,path:"/",component:Object(a.lazy)((function(){return n.e(4).then(n.bind(null,59))}))},{path:"/music",component:Object(a.lazy)((function(){return n.e(3).then(n.bind(null,58))}))},{auth:!0,path:"/auth",component:Object(a.lazy)((function(){return n.e(5).then(n.bind(null,60))}))}],g=Object(O.b)("rootStore")(Object(O.c)((function(e){var t;return t=!!e.rootStore.token,console.log(t),Object(u.jsx)(i.a,{children:Object(u.jsx)(p,{isAuth:t,children:Object(u.jsx)(a.Suspense,{fallback:Object(u.jsx)("div",{className:"lazy-loading",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 "}),children:x.map((function(e,n){return Object(u.jsx)(l,Object(r.a)({isAuth:t},e),n)}))})})})}))),v=function(){return Object(u.jsx)(g,{})},N=n(9),k=n.n(N),w=n(35),y=n(2),S=n(33),B=y.f.model("Song",{id:y.f.identifier,url:y.f.string,title:y.f.string,description:y.f.union(y.f.string,y.f.null),length:y.f.string}).actions((function(e){return{setStatus:function(t){e.status=t},setDescription:function(t){e.description=t},setTitle:function(t){e.title=t},remove:function(){Object(y.d)(e,2).remove(e)}}})),U=n(50),z=y.f.model("User",{userToken:y.f.maybeNull(y.f.string),userName:y.f.maybeNull(y.f.string),userId:y.f.maybeNull(y.f.string),discriminator:y.f.maybeNull(y.f.string)}).actions((function(e){return{setUser:function(t){e.userId=t.id,e.userName=t.username,e.discriminator=t.discriminator}}})),G=n(1),I=n(19),A={getUser:function(){var e=Object(I.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://discord.com/api/users/@me",{headers:{authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},E={getGuild:function(){var e=Object(I.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://discord.com/api/users/@me/guilds",{headers:{authorization:"Bearer ".concat(t)}});case 3:n=e.sent,n.json().forEach((function(e){if("659425745256579082"===e.id)return e})),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},T=y.f.model("Guild",{guildId:y.f.maybeNull(y.f.string),name:y.f.maybeNull(y.f.string)}).actions((function(e){return{setGuild:function(t){e.guildId=t.id,e.name=t.name}}})),q={rootStore:y.f.model("root",{token:y.f.maybeNull(y.f.string),user:y.f.optional(z,{}),guild:y.f.optional(T,{}),bots:y.f.optional(y.f.array(S.a),[]),songs:y.f.optional(y.f.array(B),[])}).actions((function(e){return{afterCreate:function(){var t=window.localStorage.getItem("token");if(t){e.token=t;var n=[];n.push(e.getUser()),n.push(e.getGuild()),Promise.all(n)}},addBot:function(t){e.bots.push(t)},addSong:function(t){t.id=Object(U.a)(),e.songs=[t].concat(Object(w.a)(e.songs))},remove:function(e){Object(y.c)(e)},checkQueue:function(t){t&&null!==t.queue&&Object(y.a)(e.songs,t.queue)},getUser:Object(G.o)(k.a.mark((function t(){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.getUser(e.token);case 3:n=t.sent,e.user.setUser(n),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),getGuild:Object(G.o)(k.a.mark((function t(){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.getUser(e.token);case 3:n=t.sent,e.guild.setGuild(n),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}})).create({token:null,user:{},bots:[],songs:[]})};s.a.render(Object(u.jsx)(O.a,Object(r.a)(Object(r.a)({},q),{},{children:Object(u.jsx)(v,{})})),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.16a1f430.chunk.js.map